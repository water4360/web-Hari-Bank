# 💰하리은행(오픈뱅킹 웹페이지)
## 1. 제작기간 & 참여인원
- 2023.06.17 ~ 07.03
- 1인 개별(4인1조 연동)
  
## 2. 사용 기술
`Back-End` Java 11, Spring

`Front-End` JavaScript

`Database` Oracle 21c XE

## 3. ERD 설계
![포폴용_은행](https://github.com/water4360/web-Hari-Bank/assets/121849929/61d32f86-f7ac-4d37-83c3-507ad795f240)


## 4. 핵심 기능
- 계좌조회/이체, 오픈뱅킹 조회/이체
- 사용자가 어느 은행에서든 당행/타행 계좌조회 및 이체를 가능하게 하는 것이 오픈뱅킹의 핵심입니다.

<details>
<summary><b>오픈뱅킹 조회 설명 펼치기</b></summary>


<!-- summary 아래 한칸 공백 두어야함 -->
- <오픈뱅킹 조회>기능의 시퀀스 다이어그램입니다.
    - 먼저 오픈뱅킹 서비스를 이용하기 위해서는 당행 계좌조회와 달리 외부DB에 접속해서 데이터를 전달받아야 했고 그러려면 동일인 여부를 판단할 사용자 정보 확인이 필요했습니다.
    - 대부분의 은행에서 휴대폰 본인인증을 통해 연동하는 것에 착안하여 본 프로젝트에서도 이름, 생년월일, 휴대폰번호가 동일한 경우 동일인으로 판단하려 했으나 여러 제약상황으로 인해 [아이디]를 전달하여 조회하였습니다.
   ![포폴용_오픈뱅킹조회_시퀀스](https://github.com/water4360/web-Hari-Bank/assets/121849929/64b4a480-ea36-45f2-b328-81ccd17045f1)


</details>

## 5. 트러블슈팅
- DAO에서 PreparedStatement를 사용할 때 발생하는 ‘부적합한 열 인덱스’ 에러
    - 쿼리의 인덱스를 정할 때 숫자가 아닌 idx 변수를 이용하여 중간에 구문에 변동이 생기더라도 변화에 민감하지 않게 했습니다.
    ![포폴용_트러블슈팅1_쿼리인덱스](https://github.com/water4360/web-Hari-Bank/assets/121849929/9679b1f6-bd1e-492f-a9f7-61af59839b96)


    
    - 노션에 해당 에러가 주로 발생하는 원인을 정리해놓고 다시 차근차근 되짚으며 빠르게 원인을 찾도록 했습니다.
    ![포폴용_트러블슈팅2_에러백과](https://github.com/water4360/web-Hari-Bank/assets/121849929/28d327ff-7f69-45ca-b923-e245100a03b4)

## 6. 회고 / 느낀점
- 오픈뱅킹 시스템에 대한 이해도가 낮은 상태에서 각자 개별 은행을 먼저 구축하였고 그러다보니 모두 각기 다른 릴레이션과 속성명으로 구성된 상태에서 오픈뱅킹 기능을 구현하는 것이 서로에게 굉장히 까다롭고 복잡한 상황이었습니다.
- 하지만 프로젝트에 대한 방향성을 알고 나서는 중간중간 수시로 진행 상황을 공유하고 먼저 진행된 부분이 있으면 다른 팀원에게 공유하면서 전체적인 완성도를 올리는 쪽으로 진행할 수 있었습니다.

